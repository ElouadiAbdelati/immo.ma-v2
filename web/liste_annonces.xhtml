<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/template.xhtml">

        <ui:define name="body">
            <!-- Main Slider With Form -->
            <section class="osahan-slider">

                <div id="osahanslider" class="carousel slide" data-ride="carousel">

                    <ol class="carousel-indicators">

                        <li data-target="#osahanslider" data-slide-to="0" class="active" />

                        <li data-target="#osahanslider" data-slide-to="1" />
                    </ol>

                    <div class="carousel-inner" role="listbox">

                        <div class="carousel-item active slider-one">

                            <div class="overlay" />
                        </div>

                        <div class="carousel-item slider-two">

                            <div class="overlay" />
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#osahanslider" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true" />
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#osahanslider" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true" />
                        <span class="sr-only">Next</span>
                    </a>
                </div>

                <div class="slider-form inner-page-form">

                    <div class="container">

                        <h1 class="text-left mb-5">Trouvez votre propriété préférée</h1>
                        <h:form>

                            <div class="row no-gutters">

                                <div class="col-lg-3 col-md-4 col-sm-6 col-6">

                                    <div class="input-group">

                                        <div class="input-group-addon"><i class="mdi mdi-map-marker-multiple" /></div>
                                        <h:selectOneListbox
                                            id="citySearsh"
                                            size="1"
                                            value="#{annonceController.citySearch}"
                                            class="form-control"
                                            >

                                            <f:selectItem itemDisabled="true"  itemLabel="N'importe quel emplacement" itemValue=""/>
                                            <f:selectItem  itemLabel="Toutes" itemValue="#{null}"/>
                                            <f:selectItems value="#{annonceController.citys}" var="cityItem" 
                                                           itemLabel="#{cityItem.name}" itemValue="#{cityItem}" />
                                        </h:selectOneListbox>  
                                    </div>
                                </div>

                                <div class="col-lg-3 col-md-4 col-sm-6 col-6">

                                    <div class="input-group">

                                        <div class="input-group-addon"><i class="mdi mdi-city" /></div>
                                        <select class="form-control select2" name="location">

                                            <option disabled="disabled" selected="selected">Tout statut</option>
                                            <option>Heigh </option>
                                        </select>
                                    </div>
                                </div>

                                <div class="col-lg-3 col-md-4 col-sm-6 col-6">

                                    <div class="input-group">

                                        <div class="input-group-addon"><i class="mdi mdi-home-modern" /></div>

                                        <h:selectOneListbox
                                            id="annonceTypeSearsh"
                                            size="1"
                                            value="#{annonceController.annonceTypeSearch}"
                                            class="form-control"
                                            >

                                            <f:selectItem itemDisabled="true"  itemLabel="N'importe quel type" itemValue=""/>
                                            <f:selectItem  itemLabel="Toutes" itemValue="#{null}"/>
                                            <f:selectItems value="#{annonceController.annonceTypes}" var="cityItem" 
                                                           itemLabel="#{annonceTypeItem.type}" itemValue="#{annonceTypeItem}" />
                                        </h:selectOneListbox>
                                    </div>
                                </div>

                                <div class="col-lg-3 col-md-4 col-sm-6 col-6">

                                    <div class="input-group">

                                        <div class="input-group-addon"><i class="mdi mdi-hotel" /></div>
                                        <h:selectOneListbox id="nbrchambresSearch" 
                                                            class="form-control select2"
                                                            size="1"
                                                            value="#{annonceController.nbrchambresSearch}" 
                                                            >
                                            <f:selectItem itemDisabled="true"  itemLabel="Min. Chambres à coucher" itemValue=""/>
                                            <f:selectItem itemLabel="Toutes" itemValue="0"/>
                                            <f:selectItem itemLabel="1" itemValue="1"/>
                                            <f:selectItem itemLabel="2" itemValue="2"/>
                                            <f:selectItem itemLabel="3" itemValue="3"/>
                                            <f:selectItem itemLabel="4" itemValue="4"/>
                                            <f:selectItem itemLabel="5" itemValue="5"/>
                                            <f:selectItem itemLabel="6" itemValue="6"/>
                                            <f:selectItem itemLabel="7" itemValue="7"/>
                                            <f:selectItem itemLabel="8" itemValue="8"/>
                                            <f:selectItem itemLabel="9" itemValue="9"/>
                                            <f:selectItem itemLabel="10" itemValue="10"/>
                                        </h:selectOneListbox>
                                    </div>
                                </div>

                                <div class="col-lg-3 col-md-4 col-sm-6 col-6">

                                    <div class="input-group">

                                        <div class="input-group-addon"><i class="mdi mdi-magnify-minus-outline" /></div>

                                        <h:selectOneListbox id="tailleMinimaleSearch" 
                                                            class="form-control select2"
                                                            size="1"
                                                            value="#{annonceController.tailleMinimaleSearch}" 
                                                            >
                                            <f:selectItem itemDisabled="true"  itemLabel="Taille minimale" itemValue=""/>
                                            <f:selectItem itemLabel="Toutes" itemValue="0"/>
                                            <f:selectItem itemLabel="100" itemValue="100"/>
                                            <f:selectItem itemLabel="200" itemValue="200"/>
                                            <f:selectItem itemLabel="300" itemValue="300"/>
                                            <f:selectItem itemLabel="400" itemValue="400"/>
                                            <f:selectItem itemLabel="500" itemValue="500"/>
                                            <f:selectItem itemLabel="600" itemValue="600"/>
                                            <f:selectItem itemLabel="700" itemValue="700"/>
                                            <f:selectItem itemLabel="800" itemValue="800"/>
                                            <f:selectItem itemLabel="900" itemValue="900"/>
                                            <f:selectItem itemLabel="1000" itemValue="1000"/>
                                        </h:selectOneListbox>

                                    </div>
                                </div>

                                <div class="col-lg-3 col-md-4 col-sm-6 col-6">

                                    <div class="input-group">

                                        <div class="input-group-addon"><i class="mdi mdi-magnify-plus-outline" /></div>
                                        <h:selectOneListbox id="tailleMaxSearch" 
                                                            class="form-control select2"
                                                            size="1"
                                                            value="#{annonceController.tailleMaxSearch}" 
                                                            >
                                            <f:selectItem itemDisabled="true"  itemLabel="Taille max" itemValue=""/>
                                            <f:selectItem itemLabel="Toutes" itemValue="0"/>
                                            <f:selectItem itemLabel="1000" itemValue="1000"/>
                                            <f:selectItem itemLabel="2000" itemValue="2000"/>
                                            <f:selectItem itemLabel="3000" itemValue="3000"/>
                                            <f:selectItem itemLabel="4000" itemValue="4000"/>
                                            <f:selectItem itemLabel="5000" itemValue="5000"/>
                                            <f:selectItem itemLabel="6000" itemValue="6000"/>
                                            <f:selectItem itemLabel="7000" itemValue="7000"/>
                                            <f:selectItem itemLabel="8000" itemValue="8000"/>
                                            <f:selectItem itemLabel="9000" itemValue="9000"/>
                                            <f:selectItem itemLabel="10000" itemValue="10000"/>
                                        </h:selectOneListbox>
                                    </div>
                                </div>

                                <div class="col-lg-3 col-md-4 col-sm-6 col-6">

                                    <div class="input-group">

                                        <div class="input-group-addon"><i class="mdi mdi-hot-tub" /></div>
                                        <h:selectOneListbox id="nbrThermesSearch" 
                                                            size="1"
                                                            class="form-control select2"
                                                            value="#{annonceController.nbrThermesSearch}" 
                                                            >
                                            <f:selectItem itemDisabled="true"  itemLabel="Thermes" itemValue=""/>
                                            <f:selectItem itemLabel="Toutes" itemValue="0"/>
                                            <f:selectItem itemLabel="1" itemValue="1"/>
                                            <f:selectItem itemLabel="2" itemValue="2"/>
                                            <f:selectItem itemLabel="3" itemValue="3"/>
                                            <f:selectItem itemLabel="4" itemValue="4"/>
                                            <f:selectItem itemLabel="5" itemValue="5"/>
                                            <f:selectItem itemLabel="6" itemValue="6"/>
                                            <f:selectItem itemLabel="7" itemValue="7"/>
                                            <f:selectItem itemLabel="8" itemValue="8"/>
                                            <f:selectItem itemLabel="9" itemValue="9"/>
                                            <f:selectItem itemLabel="10" itemValue="10"/>
                                        </h:selectOneListbox>
                                    </div>
                                </div>

                                <div class="col-lg-3 col-md-4 col-sm-6 col-6">

                                    <div class="input-group">

                                        <h:commandLink  class="btn btn-secondary btn-block no-radius font-weight-bold" value = "CHERCHER" action = "#{annonceController.search()}" >
                                            <f:ajax  execute='@form' render='@form'  />  
                                            <f:ajax   render="annoncesDiv"  />  
                                        </h:commandLink>

                                    </div>
                                </div>
                            </div>
                        </h:form>
                    </div>
                </div>
            </section>
            <!-- End Main Slider With Form -->
            <!-- Properties List -->
            <section class="section-padding">

                <div class="container">

                    <div class="row">

                        <div class="col-lg-3 col-md-3">

                            <div class="card">

                                <div class="card-body">

                                    <h5 class="card-title mb-3">Type de propriété</h5>

                                    <ul class="sidebar-card-list">
                                        <c:forEach items="#{annonceController.categoryAnnonces}" var="categoryAnnonce" varStatus="metadata"> 
                                            <li><a href="#"><i class="mdi mdi-chevron-right" /> #{categoryAnnonce.name} <span class="sidebar-badge">#{categoryAnnonce.nomber}</span></a></li>
                                        </c:forEach>
                                    </ul>
                                </div>
                            </div>



                            <div class="card">

                                <div class="card-body">

                                    <h5 class="card-title mb-3">Statut de la propriété</h5>

                                    <ul class="sidebar-card-list">
                                        <c:forEach items="#{annonceController.annonceTypeAnnonces}" var="annonceTypeAnnonce" varStatus="metadata"> 
                                            <li><a href="#"><i class="mdi mdi-chevron-right" /> #{annonceTypeAnnonce.type} <span class="sidebar-badge"> #{annonceTypeAnnonce.nomber} </span></a></li>
                                        </c:forEach>

                                    </ul>
                                </div>
                            </div>

                            <div class="card">

                                <div class="card-body">

                                    <h5 class="card-title mb-3">Propriété par ville</h5>

                                    <ul class="sidebar-card-list">
                                        <c:forEach items="#{annonceController.cityAnnonces}" var="cityAnnonce" varStatus="metadata"> 
                                            <li><a href="#"><i class="mdi mdi-chevron-right" />#{cityAnnonce.name} <span class="sidebar-badge">#{cityAnnonce.nomber}</span></a></li>
                                        </c:forEach>
                                    </ul>
                                </div>
                            </div>


                        </div>

                        <div class="col-lg-9 col-md-9">

                            <div class="osahan_top_filter row">

                                <div class="col-lg-6 col-md-6 tags-action">
                                    <span>Center Cooling <a href="#"><i class="mdi mdi-window-close" /></a></span>
                                    <span>Heating <a href="#"><i class="mdi mdi-window-close" /></a></span>
                                </div>

                                <div class="col-lg-6 col-md-6 sort-by-btn float-right">

                                    <div class="view-mode float-right">
                                        <a class="active" href="properties-grid.html"><i class="mdi mdi-grid" /></a><a href="properties-list.html"><i class="mdi mdi-format-list-bulleted" /></a>
                                    </div>

                                    <div class="dropdown float-right">
                                        <button class="btn btn-primary btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="mdi mdi-filter" /> Sort by 
                                        </button>

                                        <div class="dropdown-menu float-right" aria-labelledby="dropdownMenuButton">
                                            <a class="dropdown-item" href="#"><i class="mdi mdi-chevron-right" /> Popularity </a>
                                            <a class="dropdown-item" href="#"><i class="mdi mdi-chevron-right" /> New </a>
                                            <a class="dropdown-item" href="#"><i class="mdi mdi-chevron-right" /> Discount </a>
                                            <a class="dropdown-item" href="#"><i class="mdi mdi-chevron-right" /> Price: Low to High </a>
                                            <a class="dropdown-item" href="#"><i class="mdi mdi-chevron-right" /> Price: High to Low </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <h:panelGroup id="annoncesDiv">
                                <div class="row">
                                    <c:forEach items="#{annonceController.annonces}" var="annonce" varStatus="metadata">
                                        <div class="col-lg-4 col-md-4">

                                            <div class="card card-list">
                                                <h:link outcome="faces/detail_annonce.xhtml" >
                                                    <f:param name="annonceId" value="#{annonce.id}"/>
                                                    <div class="card-img">
                                                        <div class="love-badge text-danger"><i class="mdi mdi-heart" /></div>
                                                        <div class="badge images-badge"><i class="mdi mdi-image-filter" /> 12</div>
                                                        <span class="badge badge-primary">#{annonce.annonceType.type}</span>
                                                        <img class="card-img-top" src="./ressources/img/list/1.png" alt="Card image cap" />
                                                    </div>

                                                    <div class="card-body">
                                                        <h2 class="text-primary mb-2 mt-0">
                                                            #{annonce.prix} #{annonce.devise} <small>/Par mois</small>
                                                        </h2>
                                                        <h5 class="card-title mb-2">#{annonce.title}</h5>

                                                        <h6 class="card-subtitle mt-1 mb-0 text-muted"><i class="mdi mdi-home-map-marker" /> #{annonce.surface}</h6>
                                                    </div>
                                                </h:link>
                                            </div>
                                        </div>
                                    </c:forEach>
                                </div>
                            </h:panelGroup>

                            <nav class="mt-5">

                                <ul class="pagination justify-content-center">

                                    <li class="page-item disabled">
                                        <a class="page-link" href="#" tabindex="-1"><i class="mdi mdi-chevron-left" /></a>
                                    </li>

                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>

                                    <li class="page-item"><a class="page-link" href="#">2</a></li>

                                    <li class="page-item"><a class="page-link" href="#">3</a></li>

                                    <li class="page-item"><a class="page-link" href="#">...</a></li>

                                    <li class="page-item"><a class="page-link" href="#">10</a></li>

                                    <li class="page-item">
                                        <a class="page-link" href="#"><i class="mdi mdi-chevron-right" /></a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </section>
            <!-- End Properties List -->
            <!-- Join Team -->
            <section class="section-padding bg-white text-center">

                <h2 class="mt-0">Join our professional team &amp; agents<br />to start selling your house</h2>

                <p class="mb-4">Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                <button type="button" class="btn btn-primary">Contact Us</button> <button type="button" class="btn btn-outline-primary">Read More</button>
            </section>
            <!-- End Join Team -->
        </ui:define>
    </ui:composition>
</html>